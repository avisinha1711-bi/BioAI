<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Cancer Simulation with Angiogenesis</title>
  <style>
    body {
      margin: 0;
      display: flex;
      height: 100vh;
      background: black;
      color: white;
      font-family: Arial, sans-serif;
    }
    #dnaCanvas, #tumorCanvas {
      flex: 1;
    }
    #controls {
      position: absolute;
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
    }
    button {
      margin: 5px;
      padding: 10px;
      border: none;
      border-radius: 5px;
      background: #444;
      color: white;
      cursor: pointer;
    }
    button:hover {
      background: #666;
    }
    #header {
      position: absolute;
      top: 10px;
      width: 100%;
      text-align: center;
      font-size: 24px;
      font-weight: bold;
      color: cyan;
    }
    #sizeDisplay {
      position: absolute;
      bottom: 40px;
      width: 100%;
      text-align: center;
      font-size: 18px;
      color: white;
    }
  </style>
</head>
<body>
  <div id="header">CANCER METASTASIS BY BioAI</div>
  <canvas id="dnaCanvas"></canvas>
  <canvas id="tumorCanvas"></canvas>
  <div id="sizeDisplay">Tumor size: 0</div>
  <div id="controls">
    <button onclick="playSim()">Play</button>
    <button onclick="pauseSim()">Pause</button>
    <button onclick="resetSim()">Reset</button>
  </div>

  <script>
    // DNA Double Helix (left)
    const dnaCanvas = document.getElementById('dnaCanvas');
    const dnaCtx = dnaCanvas.getContext('2d');
    dnaCanvas.width = window.innerWidth / 2;
    dnaCanvas.height = window.innerHeight;

    let angle = 0;
    function drawDNA() {
      dnaCtx.clearRect(0, 0, dnaCanvas.width, dnaCanvas.height);
      const midX = dnaCanvas.width / 2;
      const midY = dnaCanvas.height / 2;
      const spacing = 8;

      for (let i = -20; i < 20; i++) {
        const y = midY + i * spacing;
        const x1 = midX + Math.sin(angle + i * 0.3) * 60;
        const x2 = midX + Math.sin(angle + i * 0.3 + Math.PI) * 60;

        dnaCtx.beginPath();
        dnaCtx.moveTo(x1, y);
        dnaCtx.lineTo(x2, y);
        dnaCtx.strokeStyle = 'white';
        dnaCtx.stroke();

        dnaCtx.beginPath();
        dnaCtx.arc(x1, y, 4, 0, 2 * Math.PI);
        dnaCtx.fillStyle = 'white';
        dnaCtx.fill();

        dnaCtx.beginPath();
        dnaCtx.arc(x2, y, 4, 0, 2 * Math.PI);
        dnaCtx.fillStyle = 'white';
        dnaCtx.fill();
      }
      angle += 0.05;
      requestAnimationFrame(drawDNA);
    }
    drawDNA();

    // Tumor Simulation with Angiogenesis (right)
    const tumorCanvas = document.getElementById('tumorCanvas');
    const tumorCtx = tumorCanvas.getContext('2d');
    tumorCanvas.width = window.innerWidth / 2;
    tumorCanvas.height = window.innerHeight;

    let tumorSize = 5;
    let growing = false;
    let vessels = [];
    let dots = [];

    function drawTumor() {
      tumorCtx.clearRect(0, 0, tumorCanvas.width, tumorCanvas.height);
      const midX = tumorCanvas.width / 2;
      const midY = tumorCanvas.height / 2;

      // Draw tumor (red blob)
      tumorCtx.beginPath();
      tumorCtx.arc(midX, midY, tumorSize, 0, 2 * Math.PI);
      tumorCtx.fillStyle = 'red';
      tumorCtx.fill();

      // Draw vessels with irregular curves
      tumorCtx.strokeStyle = 'red';
      vessels.forEach(v => {
        tumorCtx.beginPath();
        tumorCtx.moveTo(v.x, v.y);
        let cx = v.x;
        let cy = v.y;
        for (let i = 0; i < v.segments; i++) {
          const nx = cx + v.len / v.segments * Math.cos(v.angle + (Math.random() - 0.5) * 0.5);
          const ny = cy + v.len / v.segments * Math.sin(v.angle + (Math.random() - 0.5) * 0.5);
          tumorCtx.lineTo(nx, ny);
          cx = nx;
          cy = ny;
        }
        tumorCtx.stroke();
      });

      // Draw metastatic red dots
      dots.forEach(d => {
        tumorCtx.beginPath();
        tumorCtx.arc(d.x, d.y, 3, 0, 2 * Math.PI);
        tumorCtx.fillStyle = 'red';
        tumorCtx.fill();
      });

      document.getElementById('sizeDisplay').textContent = `Tumor size: ${tumorSize.toFixed(1)}`;
    }

    function updateTumor() {
      if (growing) {
        tumorSize += 0.05; // slower growth speed

        // Sprout vessels after threshold
        if (tumorSize > 40 && Math.random() < 0.1) {
          const angle = Math.random() * Math.PI * 2;
          vessels.push({
            x: tumorCanvas.width / 2 + Math.cos(angle) * tumorSize,
            y: tumorCanvas.height / 2 + Math.sin(angle) * tumorSize,
            angle: angle,
            len: 30 + Math.random() * 30,
            segments: 5 + Math.floor(Math.random() * 5)
          });
        }

        // Produce metastatic red dots outside tumor
        if (tumorSize > 30 && Math.random() < 0.02) {
          dots.push({
            x: Math.random() * tumorCanvas.width,
            y: Math.random() * tumorCanvas.height
          });
        }
      }
      drawTumor();
      requestAnimationFrame(updateTumor);
    }

    function playSim() { growing = true; }
    function pauseSim() { growing = false; }
    function resetSim() {
      growing = false;
      tumorSize = 5;
      vessels = [];
      dots = [];
    }

    updateTumor();
  </script>
</body>
</html>
















